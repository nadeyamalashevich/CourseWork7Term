@model IEnumerable<CourseWork7Term.Models.ticket>

@{
    ViewBag.Title = "Basket";
}

<h2>Basket</h2>
@if(Model != null && Model.Any())
{
    <table>
        <tr>
            <th>
                Cinema
            </th>
            <th>
                Film
            </th>
            <th>
                Data
            </th>
            <th>
                Place
            </th>
            <th>
                Price
            </th>
            <th></th>
        </tr>
        @foreach (var ticket in Model.OrderBy(x=>x.session.start_time))
        {
            <tr>
                <td>
                    @ticket.session.cinema.name
                </td>
                <td>
                    @ticket.session.film.name
                </td>
                <td>
                    @ticket.session.start_time
                </td>
                <td>
                    @String.Format("Range {0} - place {1}", ticket.place.range, ticket.place.number)
                </td>
                <td>
                    @ticket.session.ticket_cost
                </td>
                <td>
                    @Html.ActionLink("Set feedback", "Marks", new { film_id = ticket.session.film_id })
                </td>
            </tr>
        }
    </table>
}